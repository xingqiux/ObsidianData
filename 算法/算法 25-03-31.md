
**æ—¥æœŸï¼š2025-03-31 - 19:12**
# **ğŸ“ [49. å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.cn/problems/group-anagrams/)**

### **1. åˆ†æ**

#### è§£é¢˜æ–¹å‘
å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ï¼Œæ’åºåéƒ½ä¸€å®šæ˜¯ç›¸åŒçš„ã€‚å› ä¸ºæ¯ç§å­—æ¯çš„ä¸ªæ•°éƒ½æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ’åºåçš„å­—ç¬¦ä¸²å°±ä¸€å®šæ˜¯ç›¸åŒçš„ã€‚

è¿™é‡Œå¯ä»¥åˆ©ç”¨ stream çš„ groupingBy ç®—å­å®ç°ç›´æ¥è¿”å›ç»“æœ

### **2. å®ç°**

#### å·¥å…·ç±»é€ŸæŸ¥
éœ€ç¡®è®¤çš„APIï¼š
- `Arrays.stream()`
- `Collectors.groupingBy()`

#### ä¼ªä»£ç 
1. æŒ‰ç…§è¿”å› str æ’åºçš„ç»“æœ
2. ç„¶åè¿›è¡Œ groupingBy çš„åˆ†ç»„


### **ä»£ç å®ç°**
```java
class Solution {
    public List<List<String>> groupAnagrams(String[] strs) {

        return new ArrayList<>(Arrays.stream(strs).collect(
            Collectors.groupingBy(str -> {
                // è¿”å› str  æ’åºåçš„ç»“æœ
                // æŒ‰ç…§æ’åºåçš„ç»“æœè¿›è¡Œ grouping by
                char[] array  = str.toCharArray();
                Arrays.sort(array);
                return new String(array);
            })
        ).values());
    }
}
```

### **æ ¸å¿ƒæ”¶è·**
1. æ–°å­¦åˆ°çš„APIï¼š`Map.computeIfAbsent()`
2. æ˜“é”™ç‚¹ï¼šæ•°ç»„è¶Šç•Œæ¡ä»¶åˆ¤æ–­
## æ›´å¤šç†è§£

### æƒ³è±¡è¿™æ˜¯ä¸€ä¸ªåƒåœ¾åˆ†ç±»è¿‡ç¨‹ ğŸ—‘ï¸
å‡è®¾ä½ æœ‰ä¸€å †ç‰©å“ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ `strs = ["eat", "tea", "tan", "ate"]`ï¼‰ï¼Œä½ éœ€è¦æ ¹æ®æŸç§è§„åˆ™ç»™å®ƒä»¬åˆ†ç±»ï¼Œæ¯”å¦‚æ‰€æœ‰ã€Œå¯å›æ”¶åƒåœ¾ã€åˆ†ä¸ºä¸€ç»„ã€ã€Œæœ‰å®³åƒåœ¾ã€åˆ†ä¸ºå¦ä¸€ç»„ï¼Œç­‰ç­‰ã€‚è¿™é‡Œçš„åˆ†ç±»è§„åˆ™å°±æ˜¯ï¼š**å˜ä½è¯å±äºåŒä¸€ç±»**ã€‚

è€Œè¿™æ®µä»£ç çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š**é€šè¿‡â€œç»Ÿä¸€æ ‡å‡†åŒ–â€æ¥åˆ†ç±»**ã€‚

---

### å¦‚ä½•â€œæ ‡å‡†åŒ–â€å˜ä½è¯ï¼Ÿ
å¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚ `"eat"`ï¼‰ï¼š
1. **æ‹†è§£**ï¼šæŠŠå­—ç¬¦ä¸²æ‹†æˆå­—ç¬¦æ•°ç»„ `['e', 'a', 't']`ã€‚
2. **æ’åº**ï¼šå°†å­—ç¬¦æ•°ç»„æ’åºï¼Œå¾—åˆ° `['a', 'e', 't']`ã€‚
3. **é‡ç»„**ï¼šæŠŠæ’åºåçš„å­—ç¬¦æ•°ç»„é‡æ–°ç»„åˆæˆæ–°çš„å­—ç¬¦ä¸² `"aet"`ã€‚

è¿™æ ·åšçš„ç»“æœæ˜¯ï¼š
- `â€œeatâ€` â†’ æ’åºåæ˜¯ `â€œaetâ€`
- `â€œteaâ€` â†’ æ’åºåæ˜¯ `â€œaetâ€`
- `â€œateâ€` â†’ æ’åºåæ˜¯ `â€œaetâ€`
- `â€œtanâ€` â†’ æ’åºåæ˜¯ `â€œantâ€`

**æ‰€æœ‰å˜ä½è¯ç»è¿‡æ’åºåçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼è¿™æ ·å®ƒä»¬å°±æœ‰äº†ç›¸åŒçš„â€œèº«ä»½æ ‡è¯†â€ï¼ˆé”®ï¼‰ã€‚**

---

### åˆ†ç»„çš„æ ¸å¿ƒåŸç†ï¼šMapï¼ˆå­—å…¸ï¼‰
Java çš„ `Collectors.groupingBy` èƒŒåå…¶å®æ˜¯ä¸€ä¸ª `Map`ï¼ˆç±»ä¼¼ Python çš„å­—å…¸ï¼‰ï¼Œå®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š

```
é”®ï¼ˆKeyï¼‰    â†’   å€¼ï¼ˆValueï¼‰
-----------------------------
"aet"       â†’  ["eat", "tea", "ate"]
"ant"       â†’  ["tan"]
```

#### åˆ†ç»„çš„è¿‡ç¨‹å°±åƒâ€œç»™æ¯æŠŠé”é…é’¥åŒ™â€ ğŸ”‘
1. **ç”Ÿæˆé’¥åŒ™**ï¼šç”¨ `groupingBy` é‡Œçš„ Lambda è¡¨è¾¾å¼ä¸ºæ¯ä¸ªå­—ç¬¦ä¸²ç”Ÿæˆé’¥åŒ™ï¼ˆæ’åºåçš„å­—ç¬¦ä¸²ï¼‰ã€‚
   ```java
   str -> {
       char[] array = str.toCharArray();
       Arrays.sort(array);
       return new String(array);
   }
   ```
2. **åŒ¹é…é’¥åŒ™å¼€é”**ï¼šæ‰€æœ‰ç›¸åŒé’¥åŒ™çš„å­—ç¬¦ä¸²ä¼šè¢«æ”¾åˆ°åŒä¸€ä¸ªé”å¯¹åº”çš„æŠ½å±‰ï¼ˆListï¼‰é‡Œã€‚
   - `"eat"`ã€"tea"ã€"ate" çš„é’¥åŒ™éƒ½æ˜¯ `"aet"` â†’ æ”¾åœ¨åŒä¸€ä¸ªæŠ½å±‰ã€‚
   - `"tan"` çš„é’¥åŒ™æ˜¯ `"ant"` â†’ æ”¾åœ¨å¦ä¸€ä¸ªæŠ½å±‰ã€‚

æœ€ç»ˆï¼Œæ•´ä¸ª `Map` çš„ç»“æ„è‡ªç„¶æˆäº†åˆ†ç»„åçš„ç»“æœã€‚

---

### ä¸ºä»€ä¹ˆä»£ç ä¸­æ²¡æœ‰çœ‹åˆ° Mapï¼Ÿ
ç­”æ¡ˆæ˜¯ï¼š`Collectors.groupingBy` åœ¨å†…éƒ¨å·²ç»å°è£…äº† Map çš„ä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼š

```java
// ä¼ªä»£ç è§£é‡Š
Map<String, List<String>> map = new HashMap<>();

for (String str : strs) {
    // 1. ç”Ÿæˆé”®ï¼ˆæ’åºåçš„å­—ç¬¦ä¸²ï¼‰
    char[] arr = str.toCharArray();
    Arrays.sort(arr);
    String key = new String(arr);

    // 2. æŠŠå½“å‰å­—ç¬¦ä¸²æ”¾å…¥å¯¹åº”çš„åˆ—è¡¨ä¸­
    if (!map.containsKey(key)) {
        map.put(key, new ArrayList<>());
    }
    map.get(key).add(str);
}

// 3. æœ€åç›´æ¥å–å‡º map çš„æ‰€æœ‰å€¼ï¼ˆåˆ†ç»„åçš„åˆ—è¡¨ï¼‰
return new ArrayList<>(map.values());
```

è€Œä»£ç ä¸­ç”¨æµï¼ˆStreamï¼‰çš„å†™æ³•ï¼š
```java
Arrays.stream(strs).collect(
    Collectors.groupingBy(str -> /* ç”Ÿæˆé”®çš„é€»è¾‘ */)
)
```
æœ¬è´¨ä¸Šå°±æ˜¯æŠŠä¸Šé¢çš„ä¼ªä»£ç ç®€åŒ–æˆäº†ä¸€è¡Œï¼

---

### æ€»ç»“ï¼šåˆ†æ­¥æµç¨‹å›¾è§£
```text
åŸå§‹æ•°ç»„ â†’ æµå¼å¤„ç† â†’ åˆ†ç»„æˆMap â†’ æå–ç»“æœ
["eat", "tea", "tan", "ate"]
        â”‚
        â†“
   æ’åº + ç”Ÿæˆé”®
["aet", "aet", "ant", "aet"]
        â”‚
        â†“
æŒ‰é”®åˆ†ç»„ï¼ˆMapï¼‰
{
   "aet" : ["eat", "tea", "ate"],
   "ant" : ["tan"]
}
        â”‚
        â†“
æå– Map ä¸­çš„å€¼ï¼ˆList<List<String>>ï¼‰
[ ["eat", "tea", "ate"], ["tan"] ]
```

---

### å¸¸è§ç–‘é—®è§£ç­”
#### 1. ä¸ºä»€ä¹ˆç”¨æ’åºåçš„å­—ç¬¦ä¸²ä½œä¸ºé”®ï¼Ÿ
- å› ä¸ºå˜ä½è¯æ’åºåçš„ç»“æœç›¸åŒï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯å®ƒä»¬åˆ†åˆ°åŒä¸€ç»„ã€‚

#### 2. å¦‚æœä¸¤ä¸ªä¸åŒçš„å­—ç¬¦ä¸²æ’åºåç»“æœç›¸åŒï¼Œä¼šæ€æ ·ï¼Ÿ
- è¿™é‡Œä¸å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µï¼å› ä¸ºå¦‚æœæ˜¯å˜ä½è¯ï¼Œæ’åºåä¸€å®šç›¸åŒï¼›è‹¥éå˜ä½è¯ä½†æ’åºåç›¸åŒï¼Œé‚£å…¶å®æ˜¯åŒä¸€ç»„ï¼Œä½†è¿™ç§æƒ…å†µä¸å­˜åœ¨äºæœ‰æ•ˆå˜ä½è¯ä¸­ã€‚è¿™ä¹Ÿæ˜¯è¿™ä¸ªç®—æ³•çš„å·§å¦™ä¹‹å¤„ã€‚

#### 3. ä¼˜åŒ–ç©ºé—´ï¼Ÿ
- ä¹Ÿå¯ä»¥ç”¨å…¶ä»–æ–¹å¼ç”Ÿæˆé”®ï¼Œæ¯”å¦‚ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œä¾‹å¦‚ `a1b2c3`ã€‚è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n*k)`ï¼ˆ`k` æ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼‰ï¼Œè€Œæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n*k log k)`ã€‚ä½†å‰è€…ä»£ç æ›´å¤æ‚ï¼Œåè€…ä»£ç æ›´ç®€æ´ã€‚

---

é€šè¿‡è¿™æ®µä»£ç ï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚ä½•ç”¨ Java æµå¼ API æå…¶ç®€æ´åœ°è§£å†³é—®é¢˜ï¼ŒåŒæ—¶èƒŒåçš„ `Map` èµ·åˆ°äº†å…³é”®ä½œç”¨ã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–ç–‘é—®ï¼Œå¯ä»¥ç»“åˆå…·ä½“ä¾‹å­å°è¯•æ‰‹åŠ¨æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ–è€…æ”¹å†™ä»£ç æ˜¾å¼åœ°ä½¿ç”¨ Map æ¥éªŒè¯é€»è¾‘æ˜¯å¦ç›¸åŒã€‚



# **ğŸ“ [138. éšæœºé“¾è¡¨çš„å¤åˆ¶](https://leetcode.cn/problems/copy-list-with-random-pointer/)**

### **åˆ†æ**

#### è§£é¢˜æ–¹å‘
âœ… é€šè¿‡ map å­˜å‚¨é“¾è¡¨èŠ‚ç‚¹
âœ… é€’å½’è°ƒç”¨æ‹·è´è¿›è¡Œæ·±æ‹·è´

### **å®ç°**

#### å·¥å…·ç±»é€ŸæŸ¥
éœ€ç¡®è®¤çš„APIï¼š
- `Arrays.copyOfRange()`
- `StringBuilder.reverse()`

#### ä¼ªä»£ç 
1. **ç»ˆæ­¢æ¡ä»¶**ï¼šè‹¥å½“å‰å¤„ç†çš„èŠ‚ç‚¹ä¸ºç©ºï¼ˆ`head == null`ï¼‰ï¼Œè¿”å›`null`ã€‚
2. **åˆ›å»ºæ–°èŠ‚ç‚¹**ï¼šå¤åˆ¶å½“å‰èŠ‚ç‚¹çš„å€¼`val`ï¼Œç”Ÿæˆæ–°èŠ‚ç‚¹`newHead`ã€‚
3. **å“ˆå¸Œè®°å½•**ï¼šå°†åŸèŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹çš„æ˜ å°„å…³ç³»å­˜å…¥å“ˆå¸Œè¡¨`map`ã€‚
4. **é€’å½’å¤„ç†**ï¼šä¼˜å…ˆå¤„ç†å½“å‰èŠ‚ç‚¹çš„`next`æŒ‡é’ˆå…¥å£ï¼Œé€’å½’åˆ°é“¾è¡¨æœ«å°¾åé€å±‚å›æº¯ã€‚
5. **è®¾ç½®éšæœºæŒ‡é’ˆ**ï¼šå›æº¯æ—¶ï¼Œå€ŸåŠ©å“ˆå¸Œè¡¨å¿«é€Ÿæ‰¾åˆ°åŸ`random`èŠ‚ç‚¹å¯¹åº”çš„æ–°èŠ‚ç‚¹ï¼Œè®¾ç½®æ–°çš„`random`æŒ‡é’ˆã€‚

### **ä»£ç å®ç°**
```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/


class Solution {
    Map<Node,Node> nodeMap = new HashMap<>();
    public Node copyRandomList(Node head) {

        if (head == null) return null;

        Node newNode = new Node(head.val);
        // åœ¨Mapè¡¨ä¸­è¿›è¡Œå¯¹åº”
        nodeMap.put(head,newNode);
        // é€’å½’è°ƒç”¨æ‹·è´æ–¹æ³•
        newNode.next = copyRandomList(head.next);
        // è®¾å®šéšæœºèŠ‚ç‚¹æŒ‡å‘
        newNode.random = nodeMap.get(head.random);
        return newNode;

    }
}
```

### **æ ¸å¿ƒæ”¶è·**
1. æ–°å­¦åˆ°çš„APIï¼š`Map.computeIfAbsent()`
2. æ˜“é”™ç‚¹ï¼šæ•°ç»„è¶Šç•Œæ¡ä»¶åˆ¤æ–­
